<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S2S Forecast - Training Logs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
    <!-- Removed inline styles to match Evaluation page look -->
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
      <a href="index.html" class="nav-brand">ET-NeuralCast</a>
      <div class="nav-links">
        <a href="index.html" class="nav-link">Home</a>
        <a href="forecast.html" class="nav-link">Forecast</a>
        <a href="evaluation.html" class="nav-link">Evaluation</a>
        <a href="logs.html" class="nav-link active">Logs</a>
        
        <button id="theme-toggle" class="theme-toggle" title="Toggle Light/Dark Mode">
          <svg id="theme-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path id="moon-path" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            <circle id="sun-circle" cx="12" cy="12" r="5" style="display: none"></circle>
            <line id="sun-l1" x1="12" y1="1" x2="12" y2="3" style="display: none"></line>
            <line id="sun-l2" x1="12" y1="21" x2="12" y2="23" style="display: none"></line>
            <line id="sun-l3" x1="4.22" y1="4.22" x2="5.64" y2="5.64" style="display: none"></line>
            <line id="sun-l4" x1="18.36" y1="18.36" x2="19.78" y2="19.78" style="display: none"></line>
            <line id="sun-l5" x1="1" y1="12" x2="3" y2="12" style="display: none"></line>
            <line id="sun-l6" x1="21" y1="12" x2="23" y2="12" style="display: none"></line>
            <line id="sun-l7" x1="4.22" y1="19.78" x2="5.64" y2="18.36" style="display: none"></line>
            <line id="sun-l8" x1="18.36" y1="5.64" x2="19.78" y2="4.22" style="display: none"></line>
          </svg>
        </button>
      </div>
    </nav>

    <div class="container">
        <section style="margin-top: 2rem;">
            <h1 class="section-label" style="font-size: 3.0rem; margin-bottom: 1rem; text-transform: none; color: var(--text-primary); line-height: 1.5; padding-bottom: 0.5rem;">Training Logs & Metrics</h1>
            <p style="font-size: 1.6rem; color: var(--text-secondary); margin-bottom: 1rem;">
                Visualization of the model training process, tracked via MLflow.
            </p>

            <!-- Warmstart Phase -->
            <div class="tech-card">
                <h4>Phase 1: Warmstart (Supervised Learning)</h4>
                <p>
                    Training the Generator with L1 Loss. The chart shows high-frequency batch loss (light blue) and the overlaid smoothed trend (dark blue). 
                    Red dots indicate the average loss at the end of each epoch.
                </p>
                <img src="outputs/logs_warmstart.png" alt="Warmstart Training Loss" onerror="this.onerror=null;this.src='outputs/placeholder_logs.png'; this.style.opacity='0.5';" style="max-width: 800px; width: 100%; height: auto; display: block; margin: 2rem auto; border-radius: 8px; border: 1px solid var(--card-border);">
                <p style="margin-top: 1.5rem; text-align: left; font-size: 0.95rem; border-left: 3px solid var(--accent-color); padding-left: 1rem;">
                    <strong>Interpretation:</strong> A stable warmstart phase is characterized by a rapid initial drop in L1 loss followed by a gradual decay. 
                    If the red dots (epoch averages) align closely with the blue trend line, the model is generalizing well. 
                    Consistent convergence suggests the model has successfully learned the baseline physical mapping from predictors to precipitation.
                </p>
            </div>

            <!-- GAN Epoch Phase -->
            <div class="tech-card">
                <h4>Phase 2: GAN Training (Epoch Averages)</h4>
                <p>
                    Long-term training trends per epoch.
                    <strong>Blue:</strong> Generator Reconstruction Loss (Physical consistency).<br>
                    <strong>Green:</strong> Generator Adversarial Loss (Effort to fool Discriminator).<br>
                    <strong>Red:</strong> Discriminator Loss (Ability to detect fakes).
                </p>
                <img src="outputs/logs_gan_epoch.png" alt="GAN Epoch Loss" onerror="this.onerror=null;this.src='outputs/placeholder_logs.png'; this.style.opacity='0.5';" style="max-width: 800px; width: 100%; height: auto; display: block; margin: 2rem auto; border-radius: 8px; border: 1px solid var(--card-border);">
                <p style="margin-top: 1.5rem; text-align: left; font-size: 0.95rem; border-left: 3px solid var(--accent-color); padding-left: 1rem;">
                    <strong>Interpretation:</strong> In a stable GAN, neither the Generator (Green) nor the Discriminator (Red) should win completely. 
                    Ideally, losses should oscillate around a stable mean. If D_loss drops to zero, the Discriminator is too strong (vanishing gradients). 
                    If it rises continuously, the Generator is dominating. A stable 'Gap' between G and D indicates healthy adversarial competition.
                </p>
            </div>

            <!-- GAN Batch Phase -->
            <div class="tech-card">
                <h4>Phase 2: GAN Dynamics (Batch Level)</h4>
                <p>
                    High-frequency training dynamics smoothed for visualization. 
                    This view reveals the fine-grained competition between the Generator and Discriminator.
                </p>
                <img src="outputs/logs_gan_batch.png" alt="GAN Batch Loss" onerror="this.onerror=null;this.src='outputs/placeholder_logs.png'; this.style.opacity='0.5';" style="max-width: 800px; width: 100%; height: auto; display: block; margin: 2rem auto; border-radius: 8px; border: 1px solid var(--card-border);">
                <p style="margin-top: 1.5rem; text-align: left; font-size: 0.95rem; border-left: 3px solid var(--accent-color); padding-left: 1rem;">
                    <strong>Interpretation:</strong> High-frequency oscillations are expected here. Stability is indicated by bounded varianceâ€”spikes shouldn't grow uncontrollably. 
                    The L1 Loss (Blue) should remain low and steady, ensuring that even as the generator fights the discriminator, it doesn't lose sight of the physical ground truth (rainfall patterns).
                </p>
            </div>

            <!-- Validation Phase -->
            <div class="tech-card">
                <h4>Phase 3: Model Generalization (Validation)</h4>
                <p>
                    Performance on unseen validation years. This tracks the model's ability to generalize beyond the training data.
                    <strong>Blue (Left):</strong> RMSE (Lower is better).
                    <strong>Orange (Right):</strong> Anomaly Correlation Coefficient (Higher is better).
                </p>
                <img src="outputs/logs_gan_validation.png" alt="GAN Validation Metrics" onerror="this.onerror=null;this.src='outputs/placeholder_logs.png'; this.style.opacity='0.5';" style="max-width: 800px; width: 100%; height: auto; display: block; margin: 2rem auto; border-radius: 8px; border: 1px solid var(--card-border);">
                <p style="margin-top: 1.5rem; text-align: left; font-size: 0.95rem; border-left: 3px solid var(--success-color); padding-left: 1rem;">
                    <strong>Interpretation:</strong> This is the most critical chart for model selection. 
                    We want <strong>RMSE</strong> to decrease and <strong>ACC</strong> to increase over time. 
                    If Training Loss decreases but Validation RMSE increases, the model is <strong>overfitting</strong>. 
                </p>
            </div>
        </section>
    </div>

    <footer>
        <p class="copyright">Advanced S2S Climate Applications | &copy; 2025</p>
    </footer>

    <script src="js/theme.js"></script>
</body>
</html>
